<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="leaflets/leaflet.css" />
    <link rel="stylesheet" type="text/css" href="leaflets/esri-leaflet-geocoder.css">
    <link rel="stylesheet" href="dijit/themes/claro/claro.css">
    <link rel="stylesheet" href="AddressPicker/AddressPicker.css" />
</head>
<body>
    <script src="AddressPicker/AddressPickerDojoConfig.js"></script>
    <script src="dojo/dojo.js"></script>

    <table style="width: 100%; height: 100%;">
        <tr>
            <td style="width: 400px">

                <div style="width:400px;">Форма</div>
            </td>
            <td style="height:500px; vertical-align:top;">
                <div id="map_wrapper">
                    <div id="map"></div>
                </div>
            </td>
        </tr>
    </table>

    <!--<div id="info_panel"></div>-->

    <script type="text/javascript">
        require([
            'AddressPicker/MapDecorator', 'dojo/on'
        ], function (MapDecorator, on) {
            // map - div for map
            // info_panel - div for info panel
            // testFind - link for checking find() method (output to console)

            var mapDecorator = new MapDecorator();
            mapDecorator.initMap(); // init default values
            on(mapDecorator, "objectSelected", function(){
                var o = mapDecorator.lastSavedObj;
                console.log(o);
                alert('object selected');
            });

        //    mapDecorator.initMap(30.00, 61.00); // init with position and default zoom
        //    mapDecorator.initMap(30.00, 61.00, 12); // init with position and zoom

                /*
                 default values
                 longitude: 30.3279556
                 latitude: 59.935885
                 zoom: 10
                 * */
        });
    </script>

</body>
</html>